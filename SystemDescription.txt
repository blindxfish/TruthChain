ğŸ§­ TruthChain System Overview
TruthChain is a decentralized blockchain that permanently stores user-submitted text posts. Instead of financial tokens, the network uses characters as a resource â€” each post costs characters to write.

ğŸ§± Blockchain stores immutable signed text posts

ğŸ•“ Characters are earned passively by keeping a node online

ğŸ§¾ Posts are signed using a local wallet (public/private key)

ğŸ” Characters can be sent between users

ğŸ” All actions are cryptographically verifiable

ğŸ“¦ Blocks are created when enough characters are accumulated â€” not by time

ğŸ”„ Bitcoin-style restart system with persistent configuration

ğŸ”— Self-connection detection prevents duplicate peer counting

ğŸ› ï¸ System Design Summary
1. Characters as Currency
280,000 characters are generated per day (â‰ˆ 1,000 tweets).

These are split evenly across online nodes.

As more nodes join, each node earns fewer characters.

Characters can be traded or spent on posting.

2. Blocks and Posts
Blocks are committed when a character threshold (e.g. 100KB worth of posts) is reached.

Posts are signed and stored immutably.

The chain is append-only and always growing.

3. Nodes
Each node is a self-contained binary that:

Maintains the blockchain

Hosts an HTTP API on localhost for wallet/frontend use

Earns characters for uptime

Accepts and verifies new posts or transfers

Remembers configuration between restarts (Bitcoin-style)

Prevents self-connections and duplicate peer counting

4. Frontend (Optional)
Web, TUI, or GUI frontends can connect via the local API

All authentication/signing is local via private key

ğŸ“‹ Implementation Plan (Modular & Progressive)
ğŸ§± 1. Project Structure

truthchain/
â”œâ”€â”€ cmd/            # main.go entry point
â”œâ”€â”€ api/            # Local HTTP API for frontends
â”œâ”€â”€ chain/          # Block, post, hash logic
â”œâ”€â”€ wallet/         # Key management, signing
â”œâ”€â”€ store/          # BoltDB logic
â”œâ”€â”€ miner/          # Uptime tracker & reward logic
â””â”€â”€ utils/          # Hashing, encoding, common tools
ğŸš€ 2. Milestone Breakdown
âœ… Milestone 1: Init & Wallet
Generate and save ECDSA wallet (secp256k1)

CLI: show wallet address (public key)

Load or create wallet on node start

âœ… Milestone 2: Block & Post Logic
Define Post and Block structs

Implement hash, sign, and verify methods

Collect valid posts in memory

Commit block when N characters are accumulated

âœ… Milestone 3: Local Storage (BoltDB)
Save/load blocks

Save posts by hash

Track current block index

Track total characters owned per user

âœ… Milestone 4: Uptime Tracker
Node logs uptime (heartbeats)

Every 24h: divide 280,000 characters among all active nodes

Reward characters to the wallet

âœ… Milestone 5: Local HTTP API
Expose endpoints:

GET /status â€“ node info

GET /wallet â€“ address, char balance

POST /post â€“ submit signed post

GET /posts/latest â€“ recent posts

POST /characters/send â€“ send characters

âœ… Milestone 6: Character Transfer
Add signed transfer payload format

Update balances on both sides

âœ… Milestone 7: Post Validator & Chain Sync
Validate signature and balance for incoming posts

Store valid ones

Prepare later: sync posts/blocks with peers

ğŸ“¦ Core Data Structures (Simplified)

type Post struct {
    Author    string // public key
    Signature string // signed content hash
    Content   string // text (counted in chars)
    Timestamp int64
}

type Block struct {
    Index     int
    Timestamp int64
    PrevHash  string
    Hash      string
    Posts     []Post
}
ğŸŒ Future: P2P Node Networking
Once core local node is stable:

Peer discovery via known seed nodes

Gossip protocol for new blocks/posts

Sync missing blocks

Anti-spam & replay protection

ğŸ”’ Security Model
All posts and transfers signed with private key

Local API only (127.0.0.1) â€” no exposed network ports by default

Frontends act only as display + signing tools

Node is the source of truth 